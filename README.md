# Simple Web Server

–õ–µ–≥–∫–∏–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–∞ Java —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤ –≤ —Å—Ç–∏–ª–µ nginx.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üöÄ –û—Ç–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (HTML, CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- üåê –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã (—Ä–∞–∑–Ω—ã–µ –¥–æ–º–µ–Ω—ã ‚Üí —Ä–∞–∑–Ω—ã–µ –ø–∞–ø–∫–∏)
- ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ —Å—Ç–∏–ª–µ nginx
- üõë Graceful shutdown —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `stop`
- üì¶ –û–¥–∏–Ω JAR —Ñ–∞–π–ª - –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫

```bash
java -jar server.jar
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://0.0.0.0:8080` –∏ –±—É–¥–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `public/`.

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

–í –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤–≤–µ–¥–∏—Ç–µ:
```
stop
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§–∞–π–ª `server.conf` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.

### –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```nginx
# –ü–æ—Ä—Ç –∏ —Ö–æ—Å—Ç
listen 8080;
host 0.0.0.0;

# –î–µ—Ñ–æ–ª—Ç–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
server {
    root public;
}
```

### –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã

```nginx
listen 8080;
host 0.0.0.0;

# –î–µ—Ñ–æ–ª—Ç–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –¥–æ–º–µ–Ω –Ω–µ —Å–æ–≤–ø–∞–ª)
server {
    root public;
}

# example.com
server {
    server_name example.com www.example.com;
    root sites/example.com;
}

# test.com
server {
    server_name test.com;
    root sites/test.com;
}
```

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å nginx

### –ß—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

| nginx –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------------|-----------|------------|
| `listen` | ‚úÖ | –¢–æ–ª—å–∫–æ –ø–æ—Ä—Ç (–±–µ–∑ IP:PORT) |
| `server_name` | ‚úÖ | –ù–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–º–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª |
| `root` | ‚úÖ | –ü—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å —Ñ–∞–π–ª–∞–º–∏ |
| `location` | ‚ùå | –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| `proxy_pass` | ‚ùå | –¢–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏–∫–∞ |
| `ssl` | ‚ùå | –ò—Å–ø–æ–ª—å–∑—É–π reverse proxy |

### –ü—Ä–∏–º–µ—Ä –º–∏–≥—Ä–∞—Ü–∏–∏

**nginx –∫–æ–Ω—Ñ–∏–≥:**
```nginx
server {
    listen 80;
    server_name example.com www.example.com;
    root /var/www/example;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
}

server {
    listen 80;
    server_name test.com;
    root /var/www/test;
}
```

**server.conf:**
```nginx
listen 8080; #(–ú–æ–∂–Ω–æ –∏ 80)
host 0.0.0.0;

server {
    server_name example.com www.example.com;
    root sites/example;
}

server {
    server_name test.com;
    root sites/test;
}
```

### –®–∞–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

1. –°–∫–æ–ø–∏—Ä—É–π —Ñ–∞–π–ª—ã —Å–∞–π—Ç–æ–≤:
```bash
cp -r /var/www/example sites/example
cp -r /var/www/test sites/test
```

2. –ê–¥–∞–ø—Ç–∏—Ä—É–π –∫–æ–Ω—Ñ–∏–≥:
   - –£–±–µ—Ä–∏ `location` –±–ª–æ–∫–∏
   - –ò–∑–º–µ–Ω–∏ –ø—É—Ç–∏ –≤ `root`
   - –£–±–µ—Ä–∏ SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–π nginx –∫–∞–∫ reverse proxy)

3. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä:
```bash
java -jar server.jar
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ server.jar          # –ì–æ—Ç–æ–≤—ã–π JAR —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ server.conf             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ public/                 # –î–µ—Ñ–æ–ª—Ç–Ω–∞—è –ø–∞–ø–∫–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îî‚îÄ‚îÄ sites/                  # –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã
    ‚îú‚îÄ‚îÄ example.com/
    ‚îÇ   ‚îî‚îÄ‚îÄ index.html
    ‚îî‚îÄ‚îÄ test.com/
        ‚îî‚îÄ‚îÄ index.html
```

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤

- HTML (`.html`)
- CSS (`.css`)
- JavaScript (`.js`)
- JSON (`.json`)
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (`.png`, `.jpg`, `.jpeg`, `.gif`, `.svg`)
- –¢–µ–∫—Å—Ç (`.txt`)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 8 –∏–ª–∏ –≤—ã—à–µ
- –ü–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–≤–æ–±–æ–¥–µ–Ω

## –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

```bash
javac SimpleWebServer.java
jar -cvfm server.jar MANIFEST.MF *.class
```

## –î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥

### Pterodactyl Panel

1. –ó–∞–≥—Ä—É–∑–∏ `server.jar` –∫–∞–∫ `server.jar`
2. –ù–∞—Å—Ç—Ä–æ–π `server.conf`:
```nginx
listen 25565;  # –ò–ª–∏ —Ç–≤–æ–π –ø–æ—Ä—Ç –∏–∑ –ø–∞–Ω–µ–ª–∏
host 0.0.0.0;–≤—Å—ë

server {
    root public;
}
```
3. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å

### Docker

```dockerfile
FROM openjdk:21-slim
WORKDIR /app
COPY server.jar .
COPY server.conf .
EXPOSE 8080
CMD ["java", "-jar", "server.jar"]
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –¢–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–Ω–µ—Ç PHP, Python, etc.)
- –ù–µ—Ç SSL/TLS (–∏—Å–ø–æ–ª—å–∑—É–π nginx reverse proxy)
- –ù–µ—Ç gzip —Å–∂–∞—Ç–∏—è
- –ù–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–µ—Ç –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª (—Ç–æ–ª—å–∫–æ stdout)

## –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï

–í –ö–û–î–ï –ú–û–ì–£–¢ –ë–´–¢–¨ –£–Ø–ó–í–ò–ú–û–°–ò –ë–£–î–¢–ï –û–°–¢–û–†–û–ñ–ù–´!

–°–ï–†–í–ï–† –ë–´–õ –ù–ê–ü–ò–°–ê–ù –ó–ê 1 –í–ï–ß–ï–† –†–ê–î–ò –ò–ù–¢–ï–†–ï–°–ê –ò –°–ö–û–†–ï–ï –í–°–ï–ì–û –ë–û–õ–¨–®–ï –ù–ï –ë–£–î–ï–¢ –û–ë–ù–û–í–õ–Ø–¢–¨–°–Ø

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
